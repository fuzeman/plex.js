{"version":3,"file":"plex.js","sources":["plex/core/utils.js","plex/core/headers.js","plex/core/http.js","plex/core/interface_registry.js","plex/cloud/interfaces/registry.js","plex/cloud/interfaces/api/home/root.js","plex/cloud/interfaces/api/home/users.js","plex/cloud/interfaces/api/invites.js","plex/cloud/interfaces/api/root.js","plex/cloud/interfaces/pms/main.js","plex/cloud/interfaces/pms/playlists.js","plex/cloud/interfaces/pms/social.js","plex/cloud/interfaces/devices.js","plex/cloud/interfaces/main.js","plex/cloud/interfaces/pins.js","plex/cloud/interfaces/root.js","plex/cloud/interfaces/users.js","plex/cloud/main.js","plex/server/interfaces/registry.js","plex/server/interfaces/root.js","plex/server/main.js","plex/main.js","plex.js"],"names":["define","utils","random","string","length","chars","isDefined","result","i","Math","round","url","query","encode","parameters","components","key","hasOwnProperty","push","encodeURIComponent","join","path","clone","obj","temp","constructor","value","UAParser","buildDefaultHeaders","parser","browser","getBrowser","os","getOS","X-Plex-Device","name","X-Plex-Device-Name","X-Plex-Platform","X-Plex-Platform-Version","version","substr","indexOf","X-Plex-Product","X-Plex-Version","Headers","this","current","prototype","get","headers","update","reset","setDevice","device","setPlatform","setProduct","httpinvoke","when","HttpClient","owner","baseUrl","converters","buildConverters","xmlParser","_x2js","self","xml text","XMLSerializer","serializeToString","text xml","DOMParser","parseFromString","X2JS","Error","xml_str2json","request","method","config","deferred","defer","client_identifier","token","then","response","statusCode","resolve","body","reject","statusText","promise","Client","InterfaceRegistry","interfaces","set","cls","__path__","console","debug","expose","target","exposeRoot","apply","arguments","registry","Root","$c","$r","outputType","users","Users","id","pin","Invites","requested","requests","home","resources","includeHttps","Main","ip","Playlists","all","playlist","unwatched","deleteItem","Social","networks","Devices","scrobble","identifier","unscrobble","Pins","devices","pins","account","login","username","password","Authorization","btoa","Http","Cloud","http","details","identity","Server","cloud","plex","log"],"mappings":"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GAAArF,GACAf,KAAAiG,KAAA,GAAAF,GAAAlD,OAAA7C,KAAAe,GAEAf,KAAAmC,kBAAA,KACAnC,KAAAoC,MAAA,KAGAsB,EAAAL,OAAArD,MACA0D,EAAAH,WAAAvD,MAOA,MAJAoG,GAAAlG,UAAA4B,QAAA,SAAAC,EAAAvD,EAAAwD,GACA,MAAAhC,MAAAiG,KAAAnE,QAAAC,EAAAvD,EAAAwD,IAGAoE,ICtBAjJ,ODwBA,aCvBA,kBACA,mBACA,mBACA,SAAA6I,EAAAI,EAAAhJ,GACA,OACA4I,MAAAA,EACAI,OAAAA,EAEAC,MAAA,GAAAL,GACA5I,MAAAA,KCVAD,ODaA,QCZA,aACA,SAAAmJ,GAGA,MAFAnD,SAAAoD,IAAA,oBAEAD;AtBJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9EA,AD+EA;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnEA,ADoEA;ACnEA;AACA;AACA;AACA;ACJA,ADKA;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA,ADuBA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACrCA;AACA;AACA;AACA;AACA;AACA,ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA,ADwBA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA,ADaA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["define('plex/core/utils',[], function() {\r\n    var utils = {\r\n        random: {\r\n            string: function(length, chars) {\r\n                // Set parameter defaults\r\n                length = utils.isDefined(length) ? length : 16;\r\n                chars = utils.isDefined(chars) ? chars : '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n\r\n                // Generate string\r\n                var result = '';\r\n\r\n                for (var i = length; i > 0; --i) {\r\n                    result += chars[Math.round(Math.random() * (chars.length - 1))];\r\n                }\r\n\r\n                return result;\r\n            }\r\n        },\r\n\r\n        url: {\r\n            query: {\r\n                encode: function(parameters) {\r\n                    // Check if the `parameters` are valid\r\n                    if(!utils.isDefined(parameters)) {\r\n                        return '';\r\n                    }\r\n\r\n                    // Build query string\r\n                    var components = [];\r\n\r\n                    for(var key in parameters) {\r\n                        if(!parameters.hasOwnProperty(key)) {\r\n                            continue;\r\n                        }\r\n\r\n                        components.push(encodeURIComponent(key) + '=' + encodeURIComponent(parameters[key]));\r\n                    }\r\n\r\n                    return components.join('&');\r\n                }\r\n            },\r\n\r\n            encode: function(path, parameters) {\r\n                var query = utils.url.query.encode(parameters);\r\n\r\n                if(query.length === 0) {\r\n                    // No parameters provided\r\n                    return path;\r\n                }\r\n\r\n                return path + '?' + query;\r\n            }\r\n        },\r\n\r\n        clone: function(obj) {\r\n            if (obj === null || typeof obj !== 'object') {\r\n                return obj;\r\n            }\r\n\r\n            var temp = obj.constructor();\r\n\r\n            for (var key in obj) {\r\n                if(!obj.hasOwnProperty(key)) {\r\n                    continue;\r\n                }\r\n\r\n                temp[key] = utils.clone(obj[key]);\r\n            }\r\n\r\n            return temp;\r\n        },\r\n\r\n        isDefined: function(value) {\r\n            return !!(typeof value !== 'undefined' && value !== null);\r\n        }\r\n    };\r\n\r\n    return utils;\r\n});\n","define('plex/core/headers',[\r\n    'plex/core/utils',\r\n    'ua-parser'\r\n], function(utils, UAParser) {\r\n    function buildDefaultHeaders() {\r\n        var parser = new UAParser(),\r\n            browser = parser.getBrowser(),\r\n            os = parser.getOS();\r\n\r\n        return {\r\n            'X-Plex-Device': os.name,\r\n            'X-Plex-Device-Name': null,\r\n\r\n            'X-Plex-Platform': browser.name,\r\n            'X-Plex-Platform-Version': browser.version.substr(0, browser.version.indexOf('.', 3)),\r\n\r\n            'X-Plex-Product': 'plex.js',\r\n            'X-Plex-Version': '1.0.0'\r\n        };\r\n    }\r\n\r\n    function Headers() {\r\n        this.default = buildDefaultHeaders();\r\n        this.current = utils.clone(this.default);\r\n    }\r\n\r\n    Headers.prototype.get = function(headers) {\r\n        headers = typeof headers !== 'undefined' ? headers : {};\r\n\r\n        // Merge headers\r\n        var result = utils.clone(this.current);\r\n\r\n        if(result['X-Plex-Device-Name'] === null) {\r\n            // Automatically generate device name\r\n            if(result['X-Plex-Product'] !== null && result['X-Plex-Platform'] !== null) {\r\n                result['X-Plex-Device-Name'] = result['X-Plex-Product'] + ' (' + result['X-Plex-Platform'] + ')';\r\n            } else if(result['X-Plex-Product'] !== null) {\r\n                result['X-Plex-Device-Name'] = result['X-Plex-Product'];\r\n            } else {\r\n                result['X-Plex-Device-Name'] = 'plex.js';\r\n            }\r\n        }\r\n\r\n        for(var key in headers) {\r\n            if(!headers.hasOwnProperty(key)) {\r\n                continue;\r\n            }\r\n\r\n            result[key] = headers[key];\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    Headers.prototype.update = function(headers) {\r\n        for(var key in headers) {\r\n            if(!headers.hasOwnProperty(key)) {\r\n                continue;\r\n            }\r\n\r\n            this.current[key] = headers[key];\r\n        }\r\n    };\r\n\r\n    Headers.prototype.reset = function() {\r\n        this.current = utils.clone(this.default);\r\n    };\r\n\r\n    Headers.prototype.setDevice = function(name, device) {\r\n        this.update({\r\n            'X-Plex-Device': device,\r\n            'X-Plex-Device-Name': name\r\n        });\r\n    };\r\n\r\n    Headers.prototype.setPlatform = function(name, version) {\r\n        this.update({\r\n            'X-Plex-Platform': name,\r\n            'X-Plex-Platform-Version': version\r\n        });\r\n    };\r\n\r\n    Headers.prototype.setProduct = function(name, version) {\r\n        this.update({\r\n            'X-Plex-Product': name,\r\n            'X-Plex-Version': version\r\n        });\r\n    };\r\n\r\n    return Headers;\r\n});\n","define('plex/core/http',[\r\n    'plex/core/headers',\r\n    'httpinvoke',\r\n    'when'\r\n], function(Headers, httpinvoke, when) {\r\n    function HttpClient(owner, baseUrl) {\r\n        this.owner = owner;\r\n        this.baseUrl = baseUrl;\r\n\r\n        this.converters = this.buildConverters();\r\n        this.headers = new Headers();\r\n        this.xmlParser = 'dom';\r\n\r\n        this._x2js = null;\r\n    }\r\n\r\n    HttpClient.prototype.buildConverters = function() {\r\n        var self = this;\r\n\r\n        return {\r\n            'xml text': function(value) {\r\n                return (new XMLSerializer()).serializeToString(value);\r\n            },\r\n            'text xml': function(value) {\r\n                if(self.xmlParser === 'dom') {\r\n                    return (new DOMParser()).parseFromString(value, 'text/xml');\r\n                }\r\n\r\n                if(self.xmlParser === 'x2js') {\r\n                    // Check if x2js is available\r\n                    if (!X2JS) {\r\n                        throw new Error(\"Missing X2JS library\");\r\n                    }\r\n\r\n                    if(self._x2js === null) {\r\n                        self._x2js = new X2JS();\r\n                    }\r\n\r\n                    // Parse response\r\n                    return self._x2js.xml_str2json(value);\r\n                }\r\n\r\n                throw new Error('Unknown \"responseType\": ' + self.xmlParser);\r\n            }\r\n        };\r\n    };\r\n\r\n    HttpClient.prototype.request = function(method, path, config) {\r\n        var url = this.baseUrl + path,\r\n            deferred = when.defer();\r\n\r\n        // Build request\r\n        config = typeof config !== 'undefined' ? config : {};\r\n        config.converters = this.converters;\r\n        config.headers = this.headers.get(config.headers);\r\n\r\n        // Set extra headers\r\n        if(this.owner.client_identifier !== null) {\r\n            config.headers['X-Plex-Client-Identifier'] = this.owner.client_identifier;\r\n        }\r\n\r\n        if(this.owner.token !== null) {\r\n            config.headers['X-Plex-Token'] = this.owner.token;\r\n        }\r\n\r\n        // Send request\r\n        httpinvoke(url, method, config).then(function(response) {\r\n            // Handle response\r\n            if(response.statusCode >= 200 && response.statusCode <= 299) {\r\n                deferred.resolve(response.body);\r\n            } else {\r\n                deferred.reject(response.body, response.statusCode, response.headers, null, response.statusText);\r\n            }\r\n        }, function(statusText) {\r\n            // Socket error\r\n            deferred.reject(null, null, null, null, statusText);\r\n        });\r\n\r\n        return deferred.promise;\r\n    };\r\n\r\n    return {\r\n        Client: HttpClient\r\n    };\r\n});\n","define('plex/core/interface_registry',[\n    'plex/core/utils'\n], function(utils) {\n    function InterfaceRegistry() {\n        this.interfaces = {};\n    }\n\n    InterfaceRegistry.prototype.set = function(cls) {\n        var path = cls.__path__;\n\n        if(typeof path === 'undefined' || path === null) {\n            throw new Error('Interface is missing a \"__path__\" attribute', cls);\n        }\n\n        if(utils.isDefined(this.interfaces[path])) {\n            throw new Error('Interface \"' + path + '\" already registered');\n        }\n\n        // Register interface\n        this.interfaces[path] = cls;\n\n        console.debug('Registered interface \"%s\"', path);\n    };\n\n    InterfaceRegistry.prototype.expose = function(target) {\n        for(var key in this.interfaces) {\n            if(!this.interfaces.hasOwnProperty(key)) {\n                continue;\n            }\n\n            target[key] = new this.interfaces[key](target);\n\n            console.debug('Exposed interface \"%s\"', key);\n        }\n    };\n\n    InterfaceRegistry.prototype.exposeRoot = function(target) {\n        var cls = target[''];\n\n        if(!utils.isDefined(cls)) {\n            return;\n        }\n\n        // Apply root method proxies to `target`\n        for(var key in cls) {\n            // Ignore class attributes, and attributes starting with '$'\n            if(key.indexOf('$') === 0 || cls.hasOwnProperty(key)) {\n                continue;\n            }\n\n            // Ensure `target` proxy doesn't already exist\n            if(utils.isDefined(target[key])) {\n                throw new Error('Method proxy \"' + key + '\" already exists');\n            }\n\n            // Create method proxy\n            target[key] = (function(method) {\n                return function() {\n                    return method.apply(cls, arguments);\n                };\n            })(cls[key]);\n\n            console.debug('Exposed root method \"%s\"', key);\n        }\n    };\n\n    return InterfaceRegistry;\n});\n","define('plex/cloud/interfaces/registry',[\r\n    'plex/core/interface_registry'\r\n], function(InterfaceRegistry) {\r\n    return new InterfaceRegistry();\r\n});\n","define('plex/cloud/interfaces/api/home/root',[\r\n    'plex/cloud/interfaces/registry'\r\n], function(registry) {\r\n    function Root($c) {\r\n        this.$c = $c;\r\n    }\r\n\r\n    Root.prototype.$r = function(method, path, config) {\r\n        config = typeof config !== 'undefined' ? config : {};\r\n        config.outputType = 'xml';\r\n\r\n        return this.$c.request(method, Root.__path__ + '/' + path, config);\r\n    };\r\n\r\n    Root.prototype.users = function() {\r\n        return this.$r('GET', 'users');\r\n    };\r\n\r\n    // Register interface\r\n    Root.__path__ = '/api/home';\r\n\r\n    registry.set(Root);\r\n});\n","define('plex/cloud/interfaces/api/home/users',[\r\n    'plex/cloud/interfaces/registry',\r\n    'plex/core/utils'\r\n], function(registry, utils) {\r\n    function Users($c) {\r\n        this.$c = $c;\r\n    }\r\n\r\n    Users.prototype.$r = function(method, path, config) {\r\n        config = typeof config !== 'undefined' ? config : {};\r\n        config.outputType = 'xml';\r\n\r\n        return this.$c.request(method, Users.__path__ + '/' + path, config);\r\n    };\r\n\r\n    Users.prototype.switch = function(id, pin) {\r\n        if(!utils.isDefined(id)) {\r\n            throw new Error();\r\n        }\r\n\r\n        // Build query\r\n        var parameters = {};\r\n\r\n        if(utils.isDefined(pin)) {\r\n            parameters['pin'] = pin;\r\n        }\r\n\r\n        // Send request\r\n        return this.$r('POST', utils.url.encode(id + '/switch', parameters));\r\n    };\r\n\r\n    // Register interface\r\n    Users.__path__ = '/api/home/users';\r\n\r\n    registry.set(Users);\r\n});\n","define('plex/cloud/interfaces/api/invites',[\r\n    'plex/cloud/interfaces/registry'\r\n], function(registry) {\r\n    function Invites($c) {\r\n        this.$c = $c;\r\n    }\r\n\r\n    Invites.prototype.$r = function(method, path, config) {\r\n        config = typeof config !== 'undefined' ? config : {};\r\n        config.outputType = 'xml';\r\n\r\n        return this.$c.request(method, Invites.__path__ + '/' + path, config);\r\n    };\r\n\r\n    Invites.prototype.requested = function() {\r\n        return this.$r('GET', 'requested');\r\n    };\r\n\r\n    Invites.prototype.requests = function() {\r\n        return this.$r('GET', 'requests');\r\n    };\r\n\r\n    // Register interface\r\n    Invites.__path__ = '/api/invites';\r\n\r\n    registry.set(Invites);\r\n});\n","define('plex/cloud/interfaces/api/root',[\r\n    'plex/cloud/interfaces/registry',\r\n    'plex/core/utils'\r\n], function(registry, utils) {\r\n    function Root($c) {\r\n        this.$c = $c;\r\n    }\r\n\r\n    Root.prototype.$r = function(method, path, config) {\r\n        config = typeof config !== 'undefined' ? config : {};\r\n        config.outputType = 'xml';\r\n\r\n        return this.$c.request(method, Root.__path__ + '/' + path, config);\r\n    };\r\n\r\n    Root.prototype.home = function() {\r\n        return this.$r('GET', 'home');\r\n    };\r\n\r\n    Root.prototype.resources = function(includeHttps) {\r\n        // Build query\r\n        var parameters = {};\r\n\r\n        if(utils.isDefined(includeHttps)) {\r\n            // Convert boolean to integer\r\n            if(typeof includeHttps === 'boolean') {\r\n                includeHttps = includeHttps ? 1 : 0;\r\n            }\r\n\r\n            parameters['includeHttps'] = includeHttps;\r\n        }\r\n\r\n        // Send request\r\n        return this.$r('GET', utils.url.encode('resources', parameters));\r\n    };\r\n\r\n    Root.prototype.users = function() {\r\n        return this.$r('GET', 'users');\r\n    };\r\n\r\n    // Register interface\r\n    Root.__path__ = '/api';\r\n\r\n    registry.set(Root);\r\n});\n","define('plex/cloud/interfaces/pms/main',[\r\n    'plex/cloud/interfaces/registry'\r\n], function(registry) {\r\n    function Main($c) {\r\n        this.$c = $c;\r\n    }\r\n\r\n    Main.prototype.$r = function(method, path, config) {\r\n        return this.$c.request(method, Main.__path__ + '/' + path, config);\r\n    };\r\n\r\n    Main.prototype.ip = function() {\r\n        return this.$r('GET', 'ip');\r\n    };\r\n\r\n    // Register interface\r\n    Main.__path__ = '/pms/:';\r\n\r\n    registry.set(Main);\r\n});\n","define('plex/cloud/interfaces/pms/playlists',[\r\n    'plex/cloud/interfaces/registry'\r\n], function(registry) {\r\n    function Playlists($c) {\r\n        this.$c = $c;\r\n    }\r\n\r\n    Playlists.prototype.$r = function(method, path, config) {\r\n        config = typeof config !== 'undefined' ? config : {};\r\n        config.outputType = 'xml';\r\n\r\n        return this.$c.request(method, Playlists.__path__ + '/' + path, config);\r\n    };\r\n\r\n    Playlists.prototype.all = function(playlist) {\r\n        return this.$r('GET', playlist + '/all');\r\n    };\r\n\r\n    Playlists.prototype.unwatched = function(playlist) {\r\n        return this.$r('GET', playlist + '/unwatched');\r\n    };\r\n\r\n    // Items\r\n    Playlists.prototype.deleteItem = function(playlist, id) {\r\n        return this.$r('DELETE', playlist + '/items/' + id);\r\n    };\r\n\r\n    // Register interface\r\n    Playlists.__path__ = '/pms/playlists';\r\n\r\n    registry.set(Playlists);\r\n});\n","define('plex/cloud/interfaces/pms/social',[\r\n    'plex/cloud/interfaces/registry'\r\n], function(registry) {\r\n    function Social($c) {\r\n        this.$c = $c;\r\n    }\r\n\r\n    Social.prototype.$r = function(method, path, config) {\r\n        config = typeof config !== 'undefined' ? config : {};\r\n        config.outputType = 'xml';\r\n\r\n        return this.$c.request(method, Social.__path__ + '/' + path, config);\r\n    };\r\n\r\n    Social.prototype.networks = function() {\r\n        return this.$r('GET', 'networks');\r\n    };\r\n\r\n    // Register interface\r\n    Social.__path__ = '/pms/social';\r\n\r\n    registry.set(Social);\r\n});\n","define('plex/cloud/interfaces/devices',[\r\n    'plex/cloud/interfaces/registry'\r\n], function(registry) {\r\n    function Devices($c) {\r\n        this.$c = $c;\r\n    }\r\n\r\n    Devices.prototype.$r = function(method, path, config) {\r\n        config = typeof config !== 'undefined' ? config : {};\r\n        config.outputType = 'xml';\r\n\r\n        return this.$c.request(method, Devices.__path__ + '/' + path, config);\r\n    };\r\n\r\n    Devices.prototype.delete = function(id) {\r\n        return this.$r('DELETE', id + '.xml');\r\n    };\r\n\r\n    // Register interface\r\n    Devices.__path__ = '/devices';\r\n\r\n    registry.set(Devices);\r\n});\n","define('plex/cloud/interfaces/main',[\r\n    'plex/cloud/interfaces/registry',\r\n    'plex/core/utils'\r\n], function(registry, utils) {\r\n    function Main($c) {\r\n        this.$c = $c;\r\n    }\r\n\r\n    Main.prototype.$r = function(method, path, config) {\r\n        config = typeof config !== 'undefined' ? config : {};\r\n        config.outputType = 'xml';\r\n\r\n        return this.$c.request(method, Main.__path__ + '/' + path, config);\r\n    };\r\n\r\n    Main.prototype.scrobble = function(key, identifier) {\r\n        if(!utils.isDefined(key) || !utils.isDefined(identifier)) {\r\n            throw new Error();\r\n        }\r\n\r\n        return this.$r('GET', utils.url.encode('scrobble', {\r\n            key: key,\r\n            identifier: identifier\r\n        }));\r\n    };\r\n\r\n    Main.prototype.unscrobble = function(key, identifier) {\r\n        if(!utils.isDefined(key) || !utils.isDefined(identifier)) {\r\n            throw new Error();\r\n        }\r\n\r\n        return this.$r('GET', utils.url.encode('unscrobble', {\r\n            key: key,\r\n            identifier: identifier\r\n        }));\r\n    };\r\n\r\n    // Register interface\r\n    Main.__path__ = '/:';\r\n\r\n    registry.set(Main);\r\n});\n","define('plex/cloud/interfaces/pins',[\r\n    'plex/cloud/interfaces/registry'\r\n], function(registry) {\r\n    function Pins($c) {\r\n        this.$c = $c;\r\n    }\r\n\r\n    Pins.prototype.$r = function(method, path, config) {\r\n        config = typeof config !== 'undefined' ? config : {};\r\n        config.outputType = 'xml';\r\n\r\n        return this.$c.request(method, Pins.__path__ + '/' + path, config);\r\n    };\r\n\r\n    Pins.prototype.get = function(id) {\r\n        return this.$r('GET', id + '.xml');\r\n    };\r\n\r\n    // Register interface\r\n    Pins.__path__ = '/pins';\r\n\r\n    registry.set(Pins);\r\n});\n","define('plex/cloud/interfaces/root',[\r\n    'plex/cloud/interfaces/registry'\r\n], function(registry) {\r\n    function Root($c) {\r\n        this.$c = $c;\r\n    }\r\n\r\n    Root.prototype.$r = function(method, path, config) {\r\n        config = typeof config !== 'undefined' ? config : {};\r\n        config.outputType = 'xml';\r\n\r\n        return this.$c.request(method, Root.__path__ + '/' + path, config);\r\n    };\r\n\r\n    Root.prototype.devices = function() {\r\n        return this.$r('GET', 'devices.xml');\r\n    };\r\n\r\n    Root.prototype.pins = function() {\r\n        return this.$r('POST', 'pins.xml');\r\n    };\r\n\r\n    // Register interface\r\n    Root.__path__ = '';\r\n\r\n    registry.set(Root);\r\n});\n","define('plex/cloud/interfaces/users',[\r\n    'plex/cloud/interfaces/registry',\r\n    'plex/core/utils'\r\n], function(registry, utils) {\r\n    function Users($c) {\r\n        this.$c = $c;\r\n    }\r\n\r\n    Users.prototype.$r = function(method, path, config) {\r\n        config = typeof config !== 'undefined' ? config : {};\r\n        config.outputType = 'xml';\r\n\r\n        return this.$c.request(method, Users.__path__ + '/' + path, config);\r\n    };\r\n\r\n    Users.prototype.account = function(token) {\r\n        var headers = {};\r\n\r\n        if(utils.isDefined(token)) {\r\n            headers['X-Plex-Token'] = token;\r\n        }\r\n\r\n        return this.$r('GET', 'account', {\r\n            headers: headers\r\n        });\r\n    };\r\n\r\n    Users.prototype.login = function(username, password) {\r\n        if(!utils.isDefined(username) || !utils.isDefined(password)) {\r\n            throw new Error();\r\n        }\r\n\r\n        return this.$r('POST', 'sign_in.xml', {\r\n            headers: {\r\n                'Authorization': 'Basic ' + btoa(username + ':' + password)\r\n            }\r\n        });\r\n    };\r\n\r\n    // Register interface\r\n    Users.__path__ = '/users';\r\n\r\n    registry.set(Users);\r\n});\n","define('plex/cloud/main',[\n    'plex/core/http',\n    'plex/cloud/interfaces/registry',\n\n    // cloud interfaces\n    'plex/cloud/interfaces/api/home/root',\n    'plex/cloud/interfaces/api/home/users',\n    'plex/cloud/interfaces/api/invites',\n    'plex/cloud/interfaces/api/root',\n\n    'plex/cloud/interfaces/pms/main',\n    'plex/cloud/interfaces/pms/playlists',\n    'plex/cloud/interfaces/pms/social',\n\n    'plex/cloud/interfaces/devices',\n    'plex/cloud/interfaces/main',\n    'plex/cloud/interfaces/pins',\n    'plex/cloud/interfaces/root',\n    'plex/cloud/interfaces/users'\n], function(Http, registry) {\n    function Cloud() {\n        this.http = new Http.Client(this, 'https://plex.tv');\n\n        this.client_identifier = null;\n        this.token = null;\n\n        // Expose interfaces\n        registry.expose(this);\n        registry.exposeRoot(this);\n    }\n\n    Cloud.prototype.request = function(method, path, config) {\n        return this.http.request(method, path, config);\n    };\n\n    return Cloud;\n});\n","define('plex/server/interfaces/registry',[\r\n    'plex/core/interface_registry'\r\n], function(InterfaceRegistry) {\r\n    return new InterfaceRegistry();\r\n});\n","define('plex/server/interfaces/root',[\r\n    'plex/server/interfaces/registry'\r\n], function(registry) {\r\n    function Root($c) {\r\n        this.$c = $c;\r\n    }\r\n\r\n    Root.prototype.$r = function(method, path, config) {\r\n        config = typeof config !== 'undefined' ? config : {};\r\n        config.outputType = 'xml';\r\n\r\n        return this.$c.request(method, Root.__path__ + '/' + path, config);\r\n    };\r\n\r\n    Root.prototype.details = function() {\r\n        return this.$r('GET', '');\r\n    };\r\n\r\n    Root.prototype.identity = function() {\r\n        return this.$r('GET', 'identity');\r\n    };\r\n\r\n    // Register interface\r\n    Root.__path__ = '';\r\n\r\n    registry.set(Root);\r\n});\n","define('plex/server/main',[\n    'plex/core/http',\n    'plex/server/interfaces/registry',\n\n    // server interfaces\n    'plex/server/interfaces/root'\n], function(Http, registry) {\n    function Server(baseUrl) {\n        this.http = new Http.Client(this, baseUrl);\n\n        this.client_identifier = null;\n        this.token = null;\n\n        // Expose interfaces\n        registry.expose(this);\n        registry.exposeRoot(this);\n    }\n\n    Server.prototype.request = function(method, path, config) {\n        return this.http.request(method, path, config);\n    };\n\n    return Server;\n});\n","define('plex/main',[\r\n    'plex/cloud/main',\r\n    'plex/server/main',\r\n    'plex/core/utils'\r\n], function(Cloud, Server, utils) {\r\n    return {\r\n        Cloud: Cloud,\r\n        Server: Server,\r\n\r\n        cloud: new Cloud(),\r\n        utils: utils\r\n    };\r\n});\n","define('plex',[\r\n    'plex/main'\r\n], function(plex) {\r\n    console.log('plex initialized');\r\n\r\n    return plex;\r\n});\n"]}